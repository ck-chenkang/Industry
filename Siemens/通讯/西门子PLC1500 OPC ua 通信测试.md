# 西门子PLC1500 OPC ua 通信测试（ua Expert）

[西门子PLC1500 OPC ua 通信测试（ua Expert）](https://www.cnblogs.com/Lion-Ming/p/12317133.html)

一、资料：

1、西门子提供的OPC UA Client资料：

全球资源库搜索：109737901

![img](Imag/1505804-20200216160510526-1116176388.png)

 

 

 此例不使用该测试软件

 

 

2、第三方测试软件 Ua Expert  下载地址：

https://www.unified-automation.com/downloads/opc-ua-clients.html

3、视频资料地址：

http://wap.siemens.com.cn/service/elearning/videos/1904.html

![img](Imag/1505804-20200216154855994-1269764017.png)

 

 

 

二、测试

1、设备组态、编译、下载完成。

2、导出客户端工业证书：

![img](Imag/1505804-20200216154944793-1002452762.png)

 注意：需要检查创建的根证书

 ![img](Imag/1505804-20200216155111252-1823253264.png)

 

 

注意需要填写调试电脑的IP地址

 ![img](Imag/1505804-20200216155123815-806463207.png)

导出证书

![img](Imag/1505804-20200216160758516-1504440036.png)

 

 

 

![img](Imag/1505804-20200216155207818-511606633.png)

 

 3、PLC配置

 ![img](Imag/1505804-20200216155231529-725372834.png)

 

 激活OPC UA服务器

 ![img](Imag/1505804-20200216155247824-1794924002.png)

 

 确认所需授权

 ![img](Imag/1505804-20200216155300204-492132093.png)

 

 证书管理器设置

 ![img](Imag/1505804-20200216155320234-197294659.png)

 

 安全设置

注意：此处设置的用户名和密码需要牢记，以后打开该项目都需要输入此用户名和密码。

此例设置用户名：user  密码：OPCua123

 ![img](Imag/1505804-20200216155405314-6091360.png)

 

 证书管理器导入证书

 ![img](Imag/1505804-20200216155419297-283652747.png)

 

 PLC 属性-给服务器创建证书

注意：证书是有有效期的，PLC 服务器和客户端需要时间同步一下。

 **![img](Imag/1505804-20200216155430222-949646699.png)**

选择受信任的客户端证书。

 ![img](Imag/1505804-20200216155446097-1426432806.png)

 

 根据应用需求在PLC属性页启动用户身份认证：

此例：user1  密码1234567890

Users  密码0987654321

 ![img](Imag/1505804-20200216155540180-1014829732.png)

**编译下载。**

PLC属性-复制客户端地址：（eg： opc.tcp://166.166.1.1:4840）

 ![img](Imag/1505804-20200216155526311-1646206706.png)

 

 

 

 

客户端连接：

添加服务器:

 ![img](Imag/1505804-20200216155554776-572158387.png)

 

 

 ![img](Imag/1505804-20200216155611538-1067312291.png)

 

 ![img](Imag/1505804-20200216155618287-1196141515.png)

 

 ![img](Imag/1505804-20200216155625439-1175706096.png)

 

 ![img](Imag/1505804-20200216155631590-1653652145.png)